"use strict";(self.webpackChunkdropship_react=self.webpackChunkdropship_react||[]).push([[922],{4245:(e,t,r)=>{r.d(t,{Z:()=>u});var n=r(2791),a=r(4511),i=r(9434),s=r(4061),l=r(184);const u=function(e){var t,r,u,o,c,d;let{dataObject:v,origin:m}=e;const f=(0,i.I0)(),h=(0,i.v9)((e=>e.mobile.isMobile)),S=(0,i.v9)((e=>e.filters.mobileFiltersOn)),[g]=(0,n.useState)(v.products),[p]=(0,n.useState)(g.reduce(((e,t)=>({min:Math.min(1,t.discountedPrice),max:Math.max(e.max,t.discountedPrice)})),{min:0,max:1})),[j]=(0,n.useState)((0,a.PR)(g)),[x]=(0,n.useState)((0,a.Ys)(g)),[y]=(0,n.useState)([...new Set(x)]),[F]=(0,n.useState)((0,a.p8)(g,y)),[k]=(0,n.useState)([...new Set(j)]),[C]=(0,n.useState)((0,a.nF)(g,k)),[w]=(0,n.useState)(g.reduce(((e,t)=>{var r,n;return e[null===(r=t.manufacturer)||void 0===r?void 0:r.name]=(e[null===(n=t.manufacturer)||void 0===n?void 0:n.name]||0)+1,e}),{})),[P,b]=(0,n.useState)(null),[M,O]=(0,n.useState)([]),[q,z]=(0,n.useState)(null),[L,R]=(0,n.useState)([]),[B,E]=(0,n.useState)([]),[V,N]=(0,n.useState)([]),[A,D]=(0,n.useState)({sort:"price",order:"asc"});(0,n.useEffect)((()=>{if(P&&Object.keys(P).length>0){const e=(0,a.ft)(g,P);O(e),h||z(P)}else O([])}),[h,P,g]),(0,n.useEffect)((()=>{if(M.length>0){const e=(0,a.Ys)(M),t=(0,a.PR)(M);R([...new Set(e)]),E([...new Set(t)]),N([...new Set(M.map((e=>{var t;return null===(t=e.manufacturer)||void 0===t?void 0:t.name})))])}else R(y),E(k),N([...new Set(g.map((e=>{var t;return null===(t=e.manufacturer)||void 0===t?void 0:t.name})))])}),[M,y,k,g]);const H=()=>{b(null)},I=()=>{const e=(0,a.ku)(P,"price",null);b(e)},T=(e,t)=>{const r=(0,a.ku)(P,t,e);b(r)};return(0,l.jsxs)("main",{className:"categoriesDetails",children:["search"!==m&&(0,l.jsx)(a.lw,{categoryid:(null===v||void 0===v||null===(t=v.category)||void 0===t?void 0:t.id)||(null===(r=v.products[0])||void 0===r||null===(u=r.category)||void 0===u?void 0:u.id),categorytitle:(null===v||void 0===v||null===(o=v.category)||void 0===o?void 0:o.name)||(null===(c=v.products[0])||void 0===c||null===(d=c.category)||void 0===d?void 0:d.name)}),(0,l.jsxs)("div",{className:"detailsListBody",children:[(!h||h&&S)&&(0,l.jsx)(a.m5,{origin:m,products:g,initialsPrices:p,uniqueColors:y,uniqueColorsCount:F,uniqueSizes:k,uniqueSizesCount:C,allManufacturers:w,currentFilters:P,filteredProducts:M,uniqueFilterColors:L,uniqueFilterSizes:B,filteredManufacturers:V,handlePriceChange:(e,t)=>{const r={from:e,to:t},n=(0,a.Tv)(P,"price",r);b(n)},handlePriceRemove:I,handleOtherFiltersRemove:T,handleOtherFiltersAdd:(e,t)=>{const r=(0,a.Tv)(P,t,e);b(r)},handleCloseButtonClick:()=>{S&&b(q||null),f((0,s.n)(!S))},clearFilters:H,applyFilters:()=>{f((0,s.n)(!S))}}),(0,l.jsx)(a.Vd,{dataObject:v,origin:m,initialProducts:g,currentFilters:P,filteredProducts:M,handlePriceRemove:I,handleOtherFiltersRemove:T,clearFilters:H,sortFilters:e=>{D(e)},currentSort:A})]}),h&&(0,l.jsx)("button",{className:"filtersButton",onClick:()=>{f((0,s.n)(!S))},children:(0,l.jsxs)("svg",{viewBox:"0 0 32 32",children:[(0,l.jsx)("path",{d:"M26 6H4v3.17l7.41 7.42l.59.58V26h4v-2h2v2a2 2 0 0 1-2 2h-4a2 2 0 0 1-2-2v-8l-7.41-7.41A2 2 0 0 1 2 9.17V6a2 2 0 0 1 2-2h22z",fill:"currentColor"}),(0,l.jsx)("path",{d:"M29.71 11.29l-3-3a1 1 0 0 0-1.42 0L16 17.59V22h4.41l9.3-9.29a1 1 0 0 0 0-1.42zM19.59 20H18v-1.59l5-5L24.59 15zM26 13.59L24.41 12L26 10.41L27.59 12z",fill:"currentColor"})]})})]})}},1922:(e,t,r)=>{r.r(t),r.d(t,{default:()=>c});r(2791);var n=r(4245),a=r(4893);const i="/mock";var s=r(7689),l=r(6322),u=r(4316),o=r(184);const c=function(){const{manufacturerId:e}=(0,s.UO)(),{data:t,error:r,isError:c,isPending:d,isSuccess:v,refetch:m}=(0,a.a)({queryKey:["manufacturerQuery",e],queryFn:()=>async function(e){const t=await fetch("".concat(i,"/Manufacturer.json"));if(!t.ok)throw new Error("Cannot find manufacturer");return t.json()}()});return(0,o.jsx)(o.Fragment,{children:d?(0,o.jsx)(u.BigLoadingDiv,{link:"/",title:"loading manufacturer...",message:"you can click here to retry if its taking too long",refetch:m}):v&&t?(0,o.jsx)(n.Z,{origin:"manufacturer",dataObject:t}):c?(0,o.jsx)(l.default,{link:"/",title:"dont have that one",message:r.message}):(0,o.jsx)(o.Fragment,{})})}}}]);
//# sourceMappingURL=922.a06493a0.chunk.js.map