"use strict";(self.webpackChunkdropship_react=self.webpackChunkdropship_react||[]).push([[111],{4245:(e,t,r)=>{r.d(t,{Z:()=>u});var s=r(2791),i=r(4511),n=r(9434),a=r(4061),l=r(184);const u=function(e){var t,r,u,o,c,d;let{dataObject:v,origin:h}=e;const m=(0,n.I0)(),f=(0,n.v9)((e=>e.mobile.isMobile)),g=(0,n.v9)((e=>e.filters.mobileFiltersOn)),[S]=(0,s.useState)(v.products),[p]=(0,s.useState)(S.reduce(((e,t)=>({min:Math.min(1,t.discountedPrice),max:Math.max(e.max,t.discountedPrice)})),{min:0,max:1})),[x]=(0,s.useState)((0,i.PR)(S)),[j]=(0,s.useState)((0,i.Ys)(S)),[F]=(0,s.useState)([...new Set(j)]),[y]=(0,s.useState)((0,i.p8)(S,F)),[k]=(0,s.useState)([...new Set(x)]),[C]=(0,s.useState)((0,i.nF)(S,k)),[P]=(0,s.useState)(S.reduce(((e,t)=>{var r,s;return e[null===(r=t.manufacturer)||void 0===r?void 0:r.name]=(e[null===(s=t.manufacturer)||void 0===s?void 0:s.name]||0)+1,e}),{})),[b,w]=(0,s.useState)(null),[M,O]=(0,s.useState)([]),[q,z]=(0,s.useState)(null),[L,R]=(0,s.useState)([]),[B,V]=(0,s.useState)([]),[E,N]=(0,s.useState)([]),[A,D]=(0,s.useState)({sort:"price",order:"asc"});(0,s.useEffect)((()=>{if(b&&Object.keys(b).length>0){const e=(0,i.ft)(S,b);O(e),f||z(b)}else O([])}),[f,b,S]),(0,s.useEffect)((()=>{if(M.length>0){const e=(0,i.Ys)(M),t=(0,i.PR)(M);R([...new Set(e)]),V([...new Set(t)]),N([...new Set(M.map((e=>{var t;return null===(t=e.manufacturer)||void 0===t?void 0:t.name})))])}else R(F),V(k),N([...new Set(S.map((e=>{var t;return null===(t=e.manufacturer)||void 0===t?void 0:t.name})))])}),[M,F,k,S]);const H=()=>{w(null)},T=()=>{const e=(0,i.ku)(b,"price",null);w(e)},Y=(e,t)=>{const r=(0,i.ku)(b,t,e);w(r)};return(0,l.jsxs)("main",{className:"categoriesDetails",children:["search"!==h&&(0,l.jsx)(i.lw,{categoryid:(null===v||void 0===v||null===(t=v.category)||void 0===t?void 0:t.id)||(null===(r=v.products[0])||void 0===r||null===(u=r.category)||void 0===u?void 0:u.id),categorytitle:(null===v||void 0===v||null===(o=v.category)||void 0===o?void 0:o.name)||(null===(c=v.products[0])||void 0===c||null===(d=c.category)||void 0===d?void 0:d.name)}),(0,l.jsxs)("div",{className:"detailsListBody",children:[(!f||f&&g)&&(0,l.jsx)(i.m5,{origin:h,products:S,initialsPrices:p,uniqueColors:F,uniqueColorsCount:y,uniqueSizes:k,uniqueSizesCount:C,allManufacturers:P,currentFilters:b,filteredProducts:M,uniqueFilterColors:L,uniqueFilterSizes:B,filteredManufacturers:E,handlePriceChange:(e,t)=>{const r={from:e,to:t},s=(0,i.Tv)(b,"price",r);w(s)},handlePriceRemove:T,handleOtherFiltersRemove:Y,handleOtherFiltersAdd:(e,t)=>{const r=(0,i.Tv)(b,t,e);w(r)},handleCloseButtonClick:()=>{g&&w(q||null),m((0,a.n)(!g))},clearFilters:H,applyFilters:()=>{m((0,a.n)(!g))}}),(0,l.jsx)(i.Vd,{dataObject:v,origin:h,initialProducts:S,currentFilters:b,filteredProducts:M,handlePriceRemove:T,handleOtherFiltersRemove:Y,clearFilters:H,sortFilters:e=>{D(e)},currentSort:A})]}),f&&(0,l.jsx)("button",{className:"filtersButton",onClick:()=>{m((0,a.n)(!g))},children:(0,l.jsxs)("svg",{viewBox:"0 0 32 32",children:[(0,l.jsx)("path",{d:"M26 6H4v3.17l7.41 7.42l.59.58V26h4v-2h2v2a2 2 0 0 1-2 2h-4a2 2 0 0 1-2-2v-8l-7.41-7.41A2 2 0 0 1 2 9.17V6a2 2 0 0 1 2-2h22z",fill:"currentColor"}),(0,l.jsx)("path",{d:"M29.71 11.29l-3-3a1 1 0 0 0-1.42 0L16 17.59V22h4.41l9.3-9.29a1 1 0 0 0 0-1.42zM19.59 20H18v-1.59l5-5L24.59 15zM26 13.59L24.41 12L26 10.41L27.59 12z",fill:"currentColor"})]})})]})}},1111:(e,t,r)=>{r.r(t),r.d(t,{default:()=>c});r(2791);var s=r(4245),i=r(4893),n=r(7689),a=r(6322),l=r(4316),u=r(9739),o=r(184);const c=function(){const{searchid:e}=(0,n.UO)(),{data:t,error:r,isError:c,isPending:d,isSuccess:v,refetch:h}=(0,i.a)({queryKey:["searchQuery",e],queryFn:()=>(0,u.o)(e)});return(0,o.jsx)(o.Fragment,{children:d?(0,o.jsx)(l.BigLoadingDiv,{link:"/store/",title:"getting search results...",message:"you can click here to retry if its taking too long",refetch:h}):v&&t?(0,o.jsx)(s.Z,{origin:"search",dataObject:{name:e,products:t}}):c?(0,o.jsx)(a.default,{link:"/store/",title:"no results found",message:r.message}):(0,o.jsx)(o.Fragment,{})})}}}]);
//# sourceMappingURL=111.80cca5b8.chunk.js.map