{"version":3,"file":"static/js/122.60714abb.chunk.js","mappings":"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","sources":["components/Product/ProductDetails/ProductDetails.jsx","helpers/API/sub-category-api.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\"\r\nimport { useParams, NavLink } from \"react-router-dom\"\r\n\r\nimport { useSelector, useDispatch } from \"react-redux\"\r\n\r\nimport ProductCard from \"../ProductCard/ProductCard\"\r\nimport Stars, { EditStars } from \"../../Stars/Stars\"\r\nimport { DetailsNav } from \"../../UsefullComponents/Usefull\"\r\nimport Reviews, { EditReview } from \"../../Reviews/Reviews\"\r\nimport ImageLoader from \"../../ImageLoader/ImageLoader\"\r\nimport { ReviewSvg } from \"../../Reviews/review\"\r\nimport NotFound from \"../../NotFound/NotFound\"\r\nimport { useQuery } from \"@tanstack/react-query\"\r\nimport { getProductByID } from \"../../../helpers/API/product-api\"\r\nimport { BigLoadingDiv, LoadingErrorDiv } from \"../../PageLoader/PageLoader\"\r\n\r\nimport { addOrderItems } from \"../../../store/slices/cartSlice/cartSlice\"\r\nimport { getSubCategoryByID } from \"../../../helpers/API/sub-category-api\"\r\nimport { getUser } from \"../../../helpers/API/user-api\"\r\nimport { setNotificationData, setShowNotification } from \"../../../store/slices/notificationSlice/notificationSlice\"\r\n\r\nfunction ProductDetails() {\r\n  const { productId } = useParams()\r\n  const dispatch = useDispatch()\r\n  const tokens = useSelector((state) => state.role.authTokens)\r\n  const userid = useSelector(state => state.role.userid)\r\n  const isLoggedIn = useSelector((state) => state.user.isLoggedIn)\r\n  const orderItems = useSelector((state) => state.cart.orderItems)\r\n  const [isInCart, setIsInCart] = useState(false)\r\n\r\n  const { data: userData } = useQuery({\r\n    queryKey: ['userQuery', userid],\r\n    queryFn: () => getUser(userid, tokens),\r\n    enabled: !!(tokens?.accessToken && tokens?.refreshToken && userid?.length > 0)\r\n  })\r\n\r\n  const {\r\n    data: productData,\r\n    error: productError,\r\n    isError: isProdError,\r\n    isPending: isProdPending,\r\n    isSuccess: prodSuccess,\r\n    refetch: prodRefetch,\r\n  } = useQuery({\r\n    queryKey: [\"productQuery\", productId],\r\n    queryFn: () => getProductByID(productId),\r\n  })\r\n\r\n  const {\r\n    data: subData,\r\n    error: subError,\r\n    isError: isSubError,\r\n    isPending: isSubPending,\r\n    isSuccess: subSuccess,\r\n    refetch: subRefetch,\r\n  } = useQuery({\r\n    queryKey: [\"subcategoryQuery\", productData?.subcategory.id],\r\n    queryFn: () => getSubCategoryByID(productData?.subcategory.id),\r\n    enabled: !!productData\r\n  })\r\n\r\n  const [createReview, setCreateReview] = useState(false)\r\n  const [tempRating, setTempRating] = useState(0)\r\n  const [userReview, setUserReview] = useState(false)\r\n\r\n  const [selectedColor, setSelectedColor] = useState('')\r\n  const [selectedSize, setSelectedSize] = useState('')\r\n  const [currentProductSize, setCurrentProductSize] = useState(null)\r\n\r\n  const [allColors, setAllColors] = useState([])\r\n  const [allSizes, setAllSizes] = useState([])\r\n  const [uniqueColors, setUniqueColors] = useState([])\r\n  const [uniqueSizes, setUniqueSizes] = useState([])\r\n  const [filteredSizes, setFilteredSizes] = useState([])\r\n  const [quantity, setQuantity] = useState(1)\r\n  const [allReviewsInvalid, setAllReviewsInvalid] = useState(false)\r\n\r\n  useEffect(() => {\r\n    setAllColors(productData?.productSizes?.reduce((acc, productSize) => {\r\n      if (productSize.color) {\r\n        acc.push(productSize.color)\r\n      }\r\n      return acc\r\n    }, []))\r\n    setAllSizes(productData?.productSizes?.reduce((acc, productSize) => {\r\n      if (productSize.size) {\r\n        acc.push(productSize.size)\r\n      }\r\n      return acc\r\n    }, []))\r\n  }, [productData])\r\n\r\n  useEffect(() => {\r\n    if (allSizes && allColors) {\r\n      setUniqueColors([...new Set(allColors)])\r\n      setUniqueSizes([...new Set(allSizes)])\r\n    }\r\n  }, [allColors, allSizes])\r\n\r\n  useEffect(() => {\r\n    setUserReview(isLoggedIn && productData ? productData.ratings.some((e) => e.userId === userData?.id) : false)\r\n  }, [userReview, productData, isLoggedIn, userData])\r\n\r\n  useEffect(() => {\r\n    if (productData) {\r\n      setAllReviewsInvalid(!userReview && productData?.ratings?.every((review) => review.review === \"\" && review.pros === \"\" && review.cons === \"\"))\r\n    }\r\n  }, [userReview, productData])\r\n\r\n  useEffect(() => {\r\n    if (productData) {\r\n      if (productData.productSizes.length === 1) {\r\n        setCurrentProductSize(productData.productSizes[0])\r\n      } else if (selectedColor) {\r\n        if (uniqueSizes.length !== 1 && selectedSize) {\r\n          setCurrentProductSize(productData.productSizes.find(pSize => pSize.color === selectedColor && pSize.size === selectedSize))\r\n        } else if (uniqueSizes.length === 1) {\r\n          setCurrentProductSize(productData.productSizes.find(pSize => pSize.color === selectedColor))\r\n        }\r\n      } else {\r\n        setCurrentProductSize(null)\r\n      }\r\n    } else {\r\n      setCurrentProductSize(null)\r\n    }\r\n  }, [productData, selectedColor, selectedSize, uniqueSizes])\r\n\r\n  useEffect(() => {\r\n    setFilteredSizes(selectedColor && productData ? productData.productSizes.filter(e => e.color === selectedColor) : [])\r\n  }, [selectedColor, productData])\r\n\r\n  useEffect(() => {\r\n    if (orderItems && currentProductSize) {\r\n      const isInCart = orderItems.some(item => item.id === currentProductSize.id)\r\n      setIsInCart(isInCart)\r\n    }\r\n  }, [orderItems, currentProductSize])\r\n\r\n  const handleStarsClick = (e) => {\r\n    setTempRating(e)\r\n    setCreateReview(true)\r\n  }\r\n\r\n  const handleCancel = () => {\r\n    setCreateReview(false)\r\n  }\r\n\r\n  const handleQuantityIncrement = () => {\r\n    if (currentProductSize !== null && quantity < currentProductSize.stock) {\r\n      setQuantity(quantity + 1)\r\n    }\r\n  }\r\n\r\n  const handleQuantityDecrement = () => {\r\n    if (currentProductSize !== null && quantity > 1) {\r\n      setQuantity(quantity - 1)\r\n    }\r\n  }\r\n\r\n  const handleColorSelection = (color) => {\r\n    setSelectedColor(color)\r\n    setSelectedSize('')\r\n    setCurrentProductSize(null)\r\n    setQuantity(1)\r\n  }\r\n\r\n  const handleSizeSelection = (size) => {\r\n    setSelectedSize(size)\r\n    setQuantity(1)\r\n  }\r\n\r\n  const handleAddToCart = () => {\r\n    let tempProduct = {\r\n      ...currentProductSize,\r\n      quantity: quantity,\r\n      name: productData.name,\r\n      price: productData.price,\r\n      total: productData.discountedPrice,\r\n      image: productData.image,\r\n      discount: productData.discountPercentage,\r\n      productId: productData.id\r\n    }\r\n    dispatch(addOrderItems(tempProduct))\r\n    dispatch(setNotificationData({ title: 'Product added to cart', success: 'You can add different colors and sizes too, and change quantity in the Cart.', error: '' }))\r\n    dispatch(setShowNotification(true))\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {isProdPending ? (\r\n        <BigLoadingDiv\r\n          link={\"/\"}\r\n          title={\"loading product...\"}\r\n          message={\"you can click here to retry if its taking too long\"}\r\n          refetch={prodRefetch}\r\n        ></BigLoadingDiv>\r\n      ) : prodSuccess && productData ? (\r\n        <main className=\"product-page\">\r\n          <DetailsNav\r\n            categoryid={productData.category.id}\r\n            categorytitle={productData.category.name}\r\n            subcategoryid={productData.subcategory.id}\r\n            subcategorytitle={productData.subcategory.name}\r\n          ></DetailsNav>\r\n\r\n          <div className=\"product-details\">\r\n            <div className=\"product-image\">\r\n              <ImageLoader\r\n                url={productData.image}\r\n                alt={productData.name}\r\n                backupUrl=\"/imgs/404/product404.png\"\r\n                backupAlt=\"Product Image 404\"\r\n              ></ImageLoader>\r\n            </div>\r\n\r\n            <div className=\"product-info\">\r\n              <div className=\"product-header\">\r\n                <h2 className=\"product-title\">\r\n                  <span>{productData.name}</span>\r\n                  <NavLink to={`/manufacturer/${productData.manufacturer.id}`}>\r\n                    <p>{productData.manufacturer.name}</p>\r\n                    <ImageLoader\r\n                      url={productData.manufacturer.image}\r\n                      alt={productData.manufacturer.name}\r\n                      backupUrl=\"/imgs/404/category404.png\"\r\n                      backupAlt=\"Manufacturer\"\r\n                    ></ImageLoader>\r\n                  </NavLink>\r\n                </h2>\r\n                <div className=\"product-rating\">\r\n                  {userReview || !isLoggedIn || createReview ? (\r\n                    <Stars\r\n                      initialRating={productData.rating}\r\n                      id={productId}\r\n                    ></Stars>\r\n                  ) : (\r\n                    <EditStars\r\n                      initialRating={productData.rating}\r\n                      id={productId}\r\n                      onClick={handleStarsClick}\r\n                    ></EditStars>\r\n                  )}\r\n                  <p>({productData.ratings.length || 0})</p>\r\n                </div>\r\n              </div>\r\n              <div className=\"variants\">\r\n                <div className=\"description-div\">\r\n                  <h3>Description</h3>\r\n                  <p className=\"product-description\">\r\n                    {productData.description}\r\n                  </p>\r\n                </div>\r\n\r\n                {uniqueColors.length > 1 && (\r\n                  <div className=\"colors\">\r\n                    <h3>Colours</h3>\r\n                    <ul>\r\n                      {uniqueColors.map((color, index) => (\r\n                        <ProductColor\r\n                          key={index}\r\n                          color={color}\r\n                          handleColorSelection={handleColorSelection}\r\n                          selectedColor={selectedColor}\r\n                        ></ProductColor>\r\n                      ))}\r\n                    </ul>\r\n                  </div>\r\n                )}\r\n\r\n                {uniqueSizes?.length > 1 && (\r\n                  <div className=\"sizes\">\r\n                    <h3>Sizes</h3>\r\n                    <ul>\r\n                      {uniqueSizes?.map((size, index) => (\r\n                        <ProductSizesLi\r\n                          key={index}\r\n                          uniqueSize={size}\r\n                          handleSizeSelection={handleSizeSelection}\r\n                          currentSize={filteredSizes.find(e => e.size === size)}\r\n                          selectedSize={selectedSize}\r\n                          selectedColor={selectedColor}\r\n                        ></ProductSizesLi>\r\n                      ))}\r\n                    </ul>\r\n                  </div>\r\n                )}\r\n              </div>\r\n              <div className=\"paymentDiv\">\r\n                <div className=\"count\">\r\n                  <button\r\n                    className=\"amount-btn\"\r\n                    onClick={handleQuantityDecrement}\r\n                    disabled={quantity <= 1 || isInCart}\r\n                  >\r\n                    -\r\n                  </button>\r\n                  <p className=\"product-count\">Amount: {quantity}</p>\r\n                  <p className=\"product-count\">\r\n                    Available: {currentProductSize !== null ? currentProductSize.stock : \"?\"}\r\n                  </p>\r\n                  <button\r\n                    className=\"amount-btn\"\r\n                    onClick={handleQuantityIncrement}\r\n                    disabled={currentProductSize === null || quantity >= currentProductSize.stock || isInCart}\r\n                  >\r\n                    +\r\n                  </button>\r\n                </div>\r\n                <div className=\"prices\">\r\n                  <p className=\"product-price\">\r\n                    <span>Price:</span>\r\n                    <span>${productData.price}</span>\r\n                  </p>\r\n                  {productData.discountPercentage > 1 && (\r\n                    <p className=\"product-discount\">\r\n                      <span>Discount:</span> <span>{productData.discountPercentage}%</span>\r\n                    </p>\r\n                  )}\r\n                  <p className=\"product-total\">\r\n                    <span>Total:</span> <span>${productData.discountedPrice * quantity}</span>\r\n                  </p>\r\n                </div>\r\n\r\n                <button disabled={currentProductSize === null || isInCart} className=\"buy-button\" onClick={handleAddToCart}>\r\n                  <svg viewBox=\"0 0 32 32\">\r\n                    <circle cx=\"10\" cy=\"28\" r=\"2\" fill=\"currentColor\" />\r\n                    <circle cx=\"24\" cy=\"28\" r=\"2\" fill=\"currentColor\" />\r\n                    <path\r\n                      fill=\"currentColor\"\r\n                      d=\"M4.98 2.804A1 1 0 0 0 4 2H0v2h3.18l3.84 19.196A1 1 0 0 0 8 24h18v-2H8.82l-.8-4H26a1 1 0 0 0 .976-.783L29.244 7h-2.047l-1.999 9H7.62Z\"\r\n                    />\r\n                    <path\r\n                      fill=\"currentColor\"\r\n                      d=\"M18 6V2h-2v4h-4v2h4v4h2V8h4V6h-4z\"\r\n                    />\r\n                  </svg>\r\n                  <p>Add To Cart</p>\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"block-header\">\r\n            <div>\r\n              <h1>Customer Reviews</h1>\r\n              <button\r\n                disabled={createReview || userReview || !userData || !isLoggedIn}\r\n                onClick={() => setCreateReview(true)}\r\n              >\r\n                <p>Review this product</p>\r\n                <svg viewBox=\"0 0 32 32\">\r\n                  <path\r\n                    fill=\"currentColor\"\r\n                    d=\"M2 26h28v2H2zM25.4 9c.8-.8.8-2 0-2.8l-3.6-3.6c-.8-.8-2-.8-2.8 0l-15 15V24h6.4l15-15zm-5-5L24 7.6l-3 3L17.4 7l3-3zM6 22v-3.6l10-10l3.6 3.6l-10 10H6z\"\r\n                  />\r\n                </svg>\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          {(!allReviewsInvalid || (userReview && isLoggedIn) || createReview) ? (\r\n            <div className=\"reviews\">\r\n              <ul className=\"reviews-ul\">\r\n                {createReview && (\r\n                  <EditReview\r\n                    shouldEdit={true}\r\n                    handleCancel={handleCancel}\r\n                    review={{\r\n                      author: `${userData?.firstName} ${userData?.lastName}`,\r\n                      date: Date(),\r\n                      title: \"\",\r\n                      rate: tempRating,\r\n                      review: \"\",\r\n                      id: Date.now(),\r\n                      pros: \"\",\r\n                      cons: \"\",\r\n                    }}\r\n                    productId={productData.id}\r\n                    userId={userData?.id}\r\n                    new={true}\r\n                  />\r\n                )}\r\n                {productData?.ratings?.map((review) =>\r\n                  (review.userId === userData?.id && isLoggedIn && userReview) ? (\r\n                    <EditReview key={review.id} review={review} userId={userData?.id} productId={productData.id} new={false}/>\r\n                  ) : (\r\n                    (review.review !== \"\" || review.pros !== \"\" || review.cons !== \"\") && <Reviews key={review.id} review={review} />\r\n                  )\r\n                )}\r\n              </ul>\r\n            </div>\r\n          ) : (\r\n            <div className=\"reviewIllustration\">\r\n              <ReviewSvg></ReviewSvg>\r\n              <div>\r\n                <h3>No reviews found.</h3>\r\n                <p>Be The first one to review this product</p>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"block-header\">\r\n            <div>\r\n              <h1>Related products</h1>\r\n              <NavLink to={subData ? `/subcategory/${subData.id}` : '/'}>\r\n                <p>Browse All</p>\r\n                <svg viewBox=\"0 0 32 32\">\r\n                  <path\r\n                    fill=\"currentColor\"\r\n                    d=\"m30 28.586l-4.689-4.688a8.028 8.028 0 1 0-1.414 1.414L28.586 30zM19 25a6 6 0 1 1 6-6a6.007 6.007 0 0 1-6 6zM2 12h8v2H2zM2 2h16v2H2zm0 5h16v2H2z\"\r\n                  />\r\n                </svg>\r\n              </NavLink>\r\n            </div>\r\n          </div>\r\n          <div className=\"related-products\">\r\n            {\r\n              isSubPending || isSubError ? (\r\n                <LoadingErrorDiv\r\n                  isError={isSubError}\r\n                  classTitle={\"relatedProductsMain\"}\r\n                  errorMessage={subError?.message}\r\n                  refetch={subRefetch}\r\n                  loadMessage={\"Loading Related Products\"}\r\n                ></LoadingErrorDiv>\r\n              ) : subSuccess && subData ? (\r\n                <>\r\n                  {subData.products.slice(0, 4).map((product) => (\r\n                    <ProductCard key={product.id} product={product} subCatImage={subData.image} />\r\n                  ))}\r\n                </>\r\n              ) : (<></>)\r\n            }\r\n          </div>\r\n        </main>\r\n      ) : isProdError ? (\r\n        <NotFound\r\n          link={\"/\"}\r\n          title={\"dont have that one\"}\r\n          message={productError.message}\r\n        ></NotFound>\r\n      ) : (\r\n        <></>\r\n      )}\r\n    </>\r\n  )\r\n}\r\n\r\nconst ProductColor = ({ color, handleColorSelection, selectedColor }) => {\r\n  return (\r\n    <li>\r\n      <button disabled={color === selectedColor} onClick={() => handleColorSelection(color)}>\r\n        <svg viewBox=\"0 0 150 150\">\r\n          <path\r\n            d=\"M121.875 18.75H28.125C25.6386 18.75 23.254 19.7377 21.4959 21.4959C19.7377 23.254 18.75 25.6386 18.75 28.125V121.875C18.75 124.361 19.7377 126.746 21.4959 128.504C23.254 130.262 25.6386 131.25 28.125 131.25H121.875C124.361 131.25 126.746 130.262 128.504 128.504C130.262 126.746 131.25 124.361 131.25 121.875V28.125C131.25 25.6386 130.262 23.254 128.504 21.4959C126.746 19.7377 124.361 18.75 121.875 18.75ZM28.125 121.875V28.125H121.875V121.875H28.125Z\"\r\n            fill={color}\r\n          />\r\n          <rect x=\"40\" y=\"40\" width=\"70\" height=\"70\" rx=\"5\" fill={color} />\r\n        </svg>\r\n        <p>{color}</p>\r\n      </button>\r\n    </li>\r\n  )\r\n}\r\n\r\nconst ProductSizesLi = ({ uniqueSize, currentSize, handleSizeSelection, selectedSize, selectedColor }) => {\r\n  return (\r\n    <li>\r\n      <button disabled={!currentSize || currentSize?.size === selectedSize || currentSize?.stock < 1 || !selectedColor} className={currentSize?.size === selectedSize ? 'active' : ''} onClick={() => handleSizeSelection(currentSize?.size)}>\r\n        <p>{uniqueSize}</p>\r\n      </button>\r\n    </li>\r\n  )\r\n}\r\n\r\nexport default ProductDetails\r\n","const mainURL = process.env.REACT_APP_BASE_URL\r\n\r\nexport async function getSubCategoryByID(ID) {\r\n    const response = await fetch(`${mainURL}/subcategory.json`)\r\n\r\n    if (!response.ok) {\r\n        throw new Error('Cannot find subcategory')\r\n    }\r\n\r\n    return response.json()\r\n}"],"names":["ProductColor","_ref","color","handleColorSelection","selectedColor","_jsx","children","_jsxs","disabled","onClick","viewBox","d","fill","x","y","width","height","rx","ProductSizesLi","_ref2","uniqueSize","currentSize","handleSizeSelection","selectedSize","size","stock","className","_productData$ratings2","productId","useParams","dispatch","useDispatch","tokens","useSelector","state","role","authTokens","userid","isLoggedIn","user","orderItems","cart","isInCart","setIsInCart","useState","data","userData","useQuery","queryKey","queryFn","getUser","enabled","accessToken","refreshToken","length","productData","error","productError","isError","isProdError","isPending","isProdPending","isSuccess","prodSuccess","refetch","prodRefetch","getProductByID","subData","subError","isSubError","isSubPending","subSuccess","subRefetch","subcategory","id","getSubCategoryByID","createReview","setCreateReview","tempRating","setTempRating","userReview","setUserReview","setSelectedColor","setSelectedSize","currentProductSize","setCurrentProductSize","allColors","setAllColors","allSizes","setAllSizes","uniqueColors","setUniqueColors","uniqueSizes","setUniqueSizes","filteredSizes","setFilteredSizes","quantity","setQuantity","allReviewsInvalid","setAllReviewsInvalid","useEffect","_productData$productS","_productData$productS2","productSizes","reduce","acc","productSize","push","Set","ratings","some","e","userId","_productData$ratings","every","review","pros","cons","find","pSize","filter","item","_Fragment","BigLoadingDiv","link","title","message","DetailsNav","categoryid","category","categorytitle","name","subcategoryid","subcategorytitle","ImageLoader","url","image","alt","backupUrl","backupAlt","NavLink","to","concat","manufacturer","Stars","initialRating","rating","EditStars","description","map","index","handleQuantityDecrement","handleQuantityIncrement","price","discountPercentage","discountedPrice","handleAddToCart","tempProduct","total","discount","addOrderItems","setNotificationData","success","setShowNotification","cx","cy","r","EditReview","shouldEdit","handleCancel","author","firstName","lastName","date","Date","rate","now","new","Reviews","ReviewSvg","LoadingErrorDiv","classTitle","errorMessage","loadMessage","products","slice","product","ProductCard","subCatImage","NotFound","mainURL","process","async","ID","response","fetch","ok","Error","json"],"sourceRoot":""}